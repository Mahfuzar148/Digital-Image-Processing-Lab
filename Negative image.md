
---

# ЁЯУШ ржерж┐ржУрж░рж┐ ржмрзНржпрж╛ржЦрзНржпрж╛

---

## рзз. ржЗржорзЗржЬ рж░рж┐ржкрзНрж░рзЗржЬрзЗржирзНржЯрзЗрж╢ржи

ржПржХржЯрж╛ ржХрж╛рж▓рж╛рж░ ржЗржорзЗржЬржХрзЗ ржЖржорж░рж╛ **3D array (Height ├Ч Width ├Ч Channels)** ржЖржХрж╛рж░рзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рж┐ред

* **Height (x)** тЖТ рж╕рж╛рж░рж┐ (row)
* **Width (y)** тЖТ ржХрж▓рж╛ржо (column)
* **Channels (c)** тЖТ рж░ржЩрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржорж╛ржи (R, G, B тЖТ 3 channel)

рждрж╛рж╣рж▓рзЗ ржПржХржЯрж╛ ржкрж┐ржХрзНрж╕рзЗрж▓ рж▓рзЗржЦрж╛ ржпрж╛рзЯ:

$$
f(x, y, c)
$$

ржпрзЗржЦрж╛ржирзЗ,

* $f(x, y, 0)$ тЖТ рж▓рж╛рж▓ (Red) ржорж╛ржи
* $f(x, y, 1)$ тЖТ рж╕ржмрзБржЬ (Green) ржорж╛ржи
* $f(x, y, 2)$ тЖТ ржирзАрж▓ (Blue) ржорж╛ржи

---

## рзи. 4D ржерзЗржХрзЗ 3D ржХржиржнрж╛рж░рзНрж╢ржи

PNG ржЗржорзЗржЬ ржЕржирзЗржХ рж╕ржорзЯ **RGBA** ржлрж░ржорзНржпрж╛ржЯрзЗ ржерж╛ржХрзЗред

* R тЖТ Red
* G тЖТ Green
* B тЖТ Blue
* A тЖТ Alpha (transparency)

рждрж╛рж╣рж▓рзЗ shape рж╣рзЯ тЖТ `(height, width, 4)`

рждрзБржорж┐ рж╢рзБржзрзБ **RGB ржжрж░ржХрж╛рж░**, рждрж╛ржЗ ржирж┐ржЪрзНржЫрзЛ ржкрзНрж░ржержо 3 channel:

$$
img\_3D = img\_4D[:, :, :3]
$$

---

## рзй. ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи ржлрж╛ржВрж╢ржи

рждрзБржорж┐ ржпрзЗ ржлрж╛ржВрж╢ржи рж▓рж┐ржЦрзЗржЫрзЛ:

$$
g(x, y, c) = \max(f(x, y, c)) - f(x, y, c)
$$

ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ:

* $f(x, y, c)$ тЖТ ржЖрж╕рж▓ ржЗржорзЗржЬрзЗрж░ ржХрзЛржирзЛ ржПржХржЯрж╛ ржкрж┐ржХрзНрж╕рзЗрж▓ ржнрзНржпрж╛рж▓рзБ (channel ржЕржирзБржпрж╛рзЯрзА)
* $\max(f(x, y, c))$ тЖТ ржкрзБрж░рзЛ ржЗржорзЗржЬрзЗ ржУржЗ channel ржПрж░ рж╕рж░рзНржмрзЛржЪрзНржЪ intensity ржорж╛ржи
* ржУржЗ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржи ржерзЗржХрзЗ ржкрж┐ржХрзНрж╕рзЗрж▓ ржнрзНржпрж╛рж▓рзБржХрзЗ ржмрж╛ржж ржжрж┐рж▓рзЗ **negative transformation** рж╣рзЯ

---

## рзк. Negative Image (Image Inversion)

Negative ржмрж╛ inverted image ржП:

* ржХрж╛рж▓рзЛ тЖТ рж╕рж╛ржжрж╛ рж╣рзЯрзЗ ржпрж╛рзЯ
* рж╕рж╛ржжрж╛ тЖТ ржХрж╛рж▓рзЛ рж╣рзЯрзЗ ржпрж╛рзЯ
* ржорж╛ржЭрж╛рж░рж┐ ржорж╛ржи тЖТ ржЙрж▓рзНржЯрж╛ ржжрж┐ржХрзЗ ржЪрж▓рзЗ ржпрж╛рзЯ

ЁЯСЙ ржзрж░рзЛ ржПржХржЯрж╛ ржЧрзНрж░рзЗрж╕рзНржХрзЗрж▓ ржЙржжрж╛рж╣рж░ржг:

* Original pixel intensity = 50 (0тАУ255 scale)
* Max intensity = 255
* Negative pixel = $255 - 50 = 205$

рждрж╛рж╣рж▓рзЗ ржХрж╛рж▓рзЛ рж░ржЩ ржЙрж▓рзНржЯрзЗ рж╕рж╛ржжрж╛ рж╣рзЯ, ржЙржЬрзНржЬрзНржмрж▓ рж░ржЩ ржЙрж▓рзНржЯрзЗ ржЕржирзНржзржХрж╛рж░ рж╣рзЯред

---

## рзл. ржЪрзНржпрж╛ржирзЗрж▓ржнрж┐рждрзНрждрж┐ржХ ржЗржорзЗржЬ ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛

рждрзБржорж┐ ржХрзЛржбрзЗ ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржкрзНрж░рждрж┐ржЯрж┐ channel ржнрж┐ржЬрзБрзЯрж╛рж▓рж╛ржЗржЬ ржХрж░рзЗржЫрзЛ:

* **Red channel** тЖТ `cmap='Reds'` ржжрж┐рзЯрзЗ ржЖржБржХрж╛
* **Green channel** тЖТ `cmap='Greens'` ржжрж┐рзЯрзЗ ржЖржБржХрж╛
* **Blue channel** тЖТ `cmap='Blues'` ржжрж┐рзЯрзЗ ржЖржБржХрж╛

ржПрждрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯ ржХрзЛржи ржкрж┐ржХрзНрж╕рзЗрж▓ ржХрждржЯрзБржХрзБ contribution ржжрж┐ржЪрзНржЫрзЗ рж▓рж╛рж▓, рж╕ржмрзБржЬ ржЖрж░ ржирзАрж▓рзЗред

---

## рзм. ржнрж┐ржЬрзБрзЯрж╛рж▓рж╛ржЗржЬрзЗрж╢ржи

рждрзБржорж┐ `subplot` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╕рж╛ржерзЗ рзлржЯрж╛ ржЬрж┐ржирж┐рж╕ ржжрзЗржЦрж╛ржЪрзНржЫрзЛ:

1. ржЖрж╕рж▓ ржЗржорзЗржЬ (RGB)
2. рж╢рзБржзрзБ Red channel
3. рж╢рзБржзрзБ Green channel
4. рж╢рзБржзрзБ Blue channel
5. Negative image

ржПрждрзЗ ржПржХржЯрж╛ ржЫржмрж┐ржХрзЗ ржмрж┐ржнрж┐ржирзНржи ржЖржЩрзНржЧрж┐ржХрзЗ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рж╛ ржпрж╛рзЯред

---

# тЬЕ рж╕рж╛рж░рж╛ржВрж╢

* ржЗржорзЗржЬ рж╣рж▓рзЛ 3D ржорзНржпрж╛ржЯрзНрж░рж┐ржХрзНрж╕ тЖТ ржкрзНрж░рждрж┐ржЯрж┐ ржкрж┐ржХрзНрж╕рзЗрж▓ рж╣рж▓рзЛ \[R, G, B]
* ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи:

$$
g(x,y,c) = \max(f(x,y,c)) - f(x,y,c)
$$

ржПржЯрж╛ **negative image** рждрзИрж░рж┐ ржХрж░рзЗ

* Negative image = ржЖрж╕рж▓ ржЫржмрж┐рж░ ржЙрж▓рзНржЯрзЛ ржХрж╛рж▓рж╛рж░
* ржЪрзНржпрж╛ржирзЗрж▓ ржЖрж▓рж╛ржжрж╛ ржХрж░рж▓рзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯ ржкрзНрж░рждрж┐ржЯрж┐ рж░ржЩрзЗрж░ intensity distribution

---


## тЬЕ ржХрзЛржб

```python
'''  
Given an image, this script load the image, convert it from 4D to 3D, perform the given transformations:
g(x, y, c) = max(f(x, y, c)) - f(x, y, c) 

here, f(x, y, c) is the pixel value at position (x, y) for channel c = 3.
'''
import matplotlib.pyplot as plt

def main():
    #================  Load the image ========================================
    img_path = "/home/mohon/4_1/cse4161/images/rgb2.png"
    img_4D = plt.imread(img_path)

    #===============  Convert 3D from 4D =====================================
    img_3D = img_4D[:, :, :3]

    #============== perform transformation(prepare negative image)  ==========
    img_negative = img_3D.max() - img_3D

    #==============  display the original image ==============================
    plt.figure(figsize=(20, 20))
    plt.subplot(3, 2, 1)
    plt.imshow(img_3D) 

    #============= display red channel image ================================
    plt.subplot(3,2,2)
    plt.imshow(img_3D[:, :, 0], cmap = 'Reds')
    
    #============  display green channel image =============================
    plt.subplot(3, 2, 3)
    plt.imshow(img_3D[:, :, 1], cmap = 'Greens')

    #=============  dispaly the blue channel image ========================
    plt.subplot(3,2,4)
    plt.imshow(img_3D[:, :, 2], cmap = 'Blues')

    #============== display the transformed image =========================
    plt.subplot(3, 2, 5)
    plt.imshow(img_negative)

    plt.show()
    plt.close()

if __name__ == '__main__': 
    main()
```

---

## ЁЯз╛ ржмрзНржпрж╛ржЦрзНржпрж╛

### рзз. ржбржХрж╕рзНржЯрзНрж░рж┐ржВ (Problem statement ржЕржВрж╢)

```python
'''
Given an image, this script load the image, convert it from 4D to 3D, perform the given transformations:
g(x, y, c) = max(f(x, y, c)) - f(x, y, c) 
'''
```

* ржПржЦрж╛ржирзЗ ржмрж▓рж╛ рж╣ржЪрзНржЫрзЗ:

  * ржЗржорзЗржЬ рж▓рзЛржб ржХрж░ржм
  * ржпржжрж┐ 4D (RGBA) рж╣рзЯ рждрж╛рж╣рж▓рзЗ 3D (RGB) рждрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░ржм
  * рждрж╛рж░ржкрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкрж┐ржХрзНрж╕рзЗрж▓рзЗ ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи ржХрж░ржм

ржлрж░рзНржорзБрж▓рж╛:

$$
g(x,y,c) = \max(f(x,y,c)) - f(x,y,c)
$$

ржорж╛ржирзЗ рж╣рж▓рзЛ, ржкрзНрж░рждрж┐ржЯрж┐ ржкрж┐ржХрзНрж╕рзЗрж▓рзЗрж░ ржорж╛ржиржХрзЗ (f) ржЙрж▓рзНржЯрзЗ ржжрзЗржУрзЯрж╛ рж╣ржмрзЗ рждрж╛рж░ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржирзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рж░рзЗржЦрзЗ (negative image рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп)ред

---

### рзи. рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ ржЗржоржкрзЛрж░рзНржЯ

```python
import matplotlib.pyplot as plt
```

* `matplotlib.pyplot` ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрж┐ ржЗржорзЗржЬ рж▓рзЛржб, ржнрж┐ржЬрзБрзЯрж╛рж▓рж╛ржЗржЬ ржПржмржВ рж╢рзЛ ржХрж░рж╛рж░ ржЬржирзНржпред

---

### рзй. ржЗржорзЗржЬ рж▓рзЛржб

```python
img_path = "/home/mohon/4_1/cse4161/images/rgb2.png"
img_4D = plt.imread(img_path)
```

* `plt.imread()` ржжрж┐рзЯрзЗ ржЗржорзЗржЬ ржкрзЬрж╛ рж╣ржЪрзНржЫрзЗ
* ржпржжрж┐ PNG рж╣рзЯ, рж╕рж╛ржзрж╛рж░ржгржд shape рж╣рзЯ `(height, width, 4)` (RGBA тЖТ 4 channel)

---

### рзк. 4D ржерзЗржХрзЗ 3D ржХржиржнрж╛рж░рзНрж╢ржи

```python
img_3D = img_4D[:, :, :3]
```

* ржПржЦрж╛ржирзЗ рж╢рзБржзрзБ ржкрзНрж░ржержо рзйржЯрж╛ channel (R, G, B) ржирзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ
* Alpha (transparency) ржмрж╛ржж ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ
* ржПржЦржи shape рж╣ржмрзЗ `(height, width, 3)`

---

### рзл. ржирзЗржЧрзЗржЯрж┐ржн ржЯрзНрж░рж╛ржирзНрж╕ржлрж░ржорзЗрж╢ржи

```python
img_negative = img_3D.max() - img_3D
```

* `img_3D.max()` тЖТ ржЗржорзЗржЬрзЗрж░ рж╕рж░рзНржмрзЛржЪрзНржЪ intensity ржорж╛ржи ржмрзЗрж░ ржХрж░рзЗ (рж╕ржХрж▓ ржЪрзНржпрж╛ржирзЗрж▓ ржорж┐рж▓рж┐рзЯрзЗ ржПржХржЯрж╛ржЗ max)
* рждрж╛рж░ржкрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкрж┐ржХрзНрж╕рзЗрж▓рзЗрж░ ржорж╛ржи рж╕рзЗржЗ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржи ржерзЗржХрзЗ ржмрж╛ржж ржжрж┐ржЪрзНржЫрзЗ
* ржПрждрзЗ **negative image** ржкрж╛ржУрзЯрж╛ ржпрж╛ржЪрзНржЫрзЗ (ржХрж╛рж▓рзЛ тЖТ рж╕рж╛ржжрж╛, рж╕рж╛ржжрж╛ тЖТ ржХрж╛рж▓рзЛ ржЗрждрзНржпрж╛ржжрж┐)

---

### рзм. ржЗржорзЗржЬ ржУ ржЪрзНржпрж╛ржирзЗрж▓ржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржирзЛ

```python
plt.figure(figsize=(20, 20))
plt.subplot(3, 2, 1)
plt.imshow(img_3D)
```

* ржорзВрж▓ ржЗржорзЗржЬ (RGB) ржжрзЗржЦрж╛ржирзЛ рж╣ржЪрзНржЫрзЗ

```python
plt.subplot(3,2,2)
plt.imshow(img_3D[:, :, 0], cmap = 'Reds')
```

* рж╢рзБржзрзБржорж╛рждрзНрж░ **Red channel** ржЖрж▓рж╛ржжрж╛ ржХрж░рзЗ ржжрзЗржЦрж╛ржирзЛ рж╣ржЪрзНржЫрзЗ

```python
plt.subplot(3, 2, 3)
plt.imshow(img_3D[:, :, 1], cmap = 'Greens')
```

* рж╢рзБржзрзБржорж╛рждрзНрж░ **Green channel**

```python
plt.subplot(3,2,4)
plt.imshow(img_3D[:, :, 2], cmap = 'Blues')
```

* рж╢рзБржзрзБржорж╛рждрзНрж░ **Blue channel**

```python
plt.subplot(3, 2, 5)
plt.imshow(img_negative)
```

* рж╕рж░рзНржмрж╢рзЗрж╖ **negative image** ржжрзЗржЦрж╛ржирзЛ рж╣ржЪрзНржЫрзЗ

---

### рзн. Show ржПржмржВ Close

```python
plt.show()
plt.close()
```

* `show()` тЖТ рж╕ржмржЧрзБрж▓рзЛ ржЗржорзЗржЬ ржЙржЗржирзНржбрзЛрждрзЗ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░ржмрзЗ
* `close()` тЖТ figure ржмржирзНржз ржХрж░ржмрзЗ

---

## ЁЯФО рж╕рж╛рж░рж╛ржВрж╢

* **Original image** тЖТ RGB рждрзЗ ржХржиржнрж╛рж░рзНржЯ
* **Channel separation** тЖТ R, G, B ржЖрж▓рж╛ржжрж╛ ржжрзЗржЦрж╛
* **Transformation** тЖТ $g(x,y,c)=\max(f)-f(x,y,c)$ ржжрж┐рзЯрзЗ negative ржмрж╛ржирж╛ржирзЛ
* **Visualization** тЖТ рж╕ржмржЧрзБрж▓рзЛ subplot ржП ржкрж╛рж╢рж╛ржкрж╛рж╢рж┐ ржжрзЗржЦрж╛ржирзЛ рж╣рзЯрзЗржЫрзЗ

---

